<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulateur d'Assurance Vélo Neat Mobility</title>
    <style>
        /* Définition des couleurs basées sur le flyer */
        :root {
            --color-primary: #2c3e50; /* Bleu foncé pour le texte principal */
            --color-accent: #ec5b88;  /* Rose vif pour les boutons et accents */
            --color-result-accent: #2ecc71; /* Vert menthe pour l'accent sur le résultat */
            --color-bg-light: #f4f4f9; /* Arrière-plan léger */
            --color-prime-price: #c0392b; /* Rouge pour le prix final */
        }
        
        /* CSS pour le style */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--color-bg-light);
            text-align: center;
        }
        .container {
            max-width: 450px;
            margin: 30px auto;
            padding: 30px;
            background-color: #fff;
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            border-radius: 10px;
            text-align: left;
        }
        .logo-container {
            text-align: center; 
            margin-bottom: 30px; 
        }
        .logo-container img {
            max-width: 80%;
            height: auto; 
            display: block; 
            margin: 0 auto;
        }
        h1 {
            color: var(--color-primary);
            font-size: 1.6em;
            margin-bottom: 25px;
            text-align: center;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--color-primary);
            margin-top: 15px;
        }
        input[type="number"], select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-color: white;
            color: var(--color-primary);
        }
        button {
            background-color: var(--color-accent); /* Rose Vif */
            color: white;
            padding: 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 17px;
            margin-top: 25px;
            width: 100%;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #d34a78; /* Rose légèrement plus foncé au survol */
        }
        #resultat {
            margin-top: 30px;
            padding: 20px;
            border-radius: 5px;
            font-size: 1.1em;
            background-color: #ecf0f1;
            border-left: 5px solid var(--color-result-accent); /* Bordure Vert Menthe */
        }
        #resultat p {
            margin: 5px 0;
            color: var(--color-primary);
        }
        .prime-finale {
            font-size: 1.5em;
            color: var(--color-prime-price); 
            font-weight: bold;
            display: block;
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="logo-container">
            <img src="logo.png" alt="Neat Mobility Logo">
        </div>

        <h1>Simulateur de Prime d'Assurance Vélo</h1>

        <label for="prix_velo">1. Prix du vélo (€) :</label>
        <input type="number" id="prix_velo" min="10" placeholder="Entrez le prix d'achat" required>
        
        <label for="formule">2. Choisissez la Formule :</label>
        <select id="formule">
            <option value="Protect">Protect</option> 
            <option value="Silver">Silver</option>
            <option value="Gold">Gold</option>
        </select>

        <label for="duree">3. Choisissez la Durée :</label>
        <select id="duree">
            <option value="Mensuel">Mensuel</option> 
            <option value="1 an">1 an (Annuel)</option>
            <option value="2 ans">2 ans (Bi-annuel)</option>
        </select>

        <button onclick="calculerPrime()">Calculer la Prime</button>

        <div id="resultat">
            Entrez le prix et sélectionnez vos options pour calculer la prime.
        </div>
    </div>
    
    <script>
        // Structure de données des tarifs (pourcentages convertis en décimal)
        const TARIFS = {
            "Protect": {
                "Mensuel": 0.0013,  // 0,13 %
                "1 an": 0.0155,     // 1,55 %
                "2 ans": 0.0301      // 3,01 %
            },
            "Silver": {
                "Mensuel": 0.0054,  // 0,54 %
                "1 an": 0.0629,     // 6,29 %
                "2 ans": 0.1175      // 11,75 %
            },
            "Gold": {
                "Mensuel": 0.0061,  // 0,61 %
                "1 an": 0.0707,     // 7,07 %
                "2 ans": 0.1335      // 13,35 %
            }
        };

        function calculerPrime() {
            // 1. Récupérer les éléments et les valeurs
            const prixVeloInput = document.getElementById('prix_velo');
            const resultatDiv = document.getElementById('resultat');

            // Conversion en nombre ou 0 si vide/invalide
            const prixVelo = parseFloat(prixVeloInput.value) || 0; 
            
            // Récupération des sélections
            const formule = document.getElementById('formule').value;
            const duree = document.getElementById('duree').value;

            // 2. Vérifier si le prix est valide
            if (prixVelo <= 0) {
                resultatDiv.innerHTML = "Veuillez entrer un prix de vélo valide (nombre positif).";
                return;
            }

            // 3. Récupérer le taux de la prime
            const taux = TARIFS[formule]?.[duree] || null;

            if (taux === null) {
                resultatDiv.innerHTML = "Erreur: Taux de prime introuvable. Veuillez vérifier vos sélections.";
                return;
            }

            // 4. Effectuer le calcul
            const primeAssurance = prixVelo * taux;
            
            // 5. Déterminer l'unité de la prime et le taux pour l'affichage
            const periode = (duree === "Mensuel") ? "Mensuelle" : duree;
            const taux_affichage = (taux * 100).toFixed(2);

            // 6. Afficher le résultat formaté
            resultatDiv.innerHTML = `
                <p><strong>Formule :</strong> ${formule}</p>
                <p><strong>Durée :</strong> ${periode} (Taux : ${taux_affichage} %)</p>
                <p><strong>Prix du Vélo :</strong> ${prixVelo.toFixed(2)} €</p>
                <hr style="border: 0; border-top: 1px solid #ccc; margin: 10px 0;">
                <p><strong>Prime à payer (${periode}) :</strong></p>
                <span class="prime-finale">${primeAssurance.toFixed(2)} €</span>
            `;
        }
    </script>
</body>
</html>